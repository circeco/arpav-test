<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="description" content="ARPAV test page">
	<meta name="keywords" content="ARPAV test page">
	<meta name="author" content="ICS Piero Grilli">

	<title>ARPAV test</title>

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

	<!-- Bootstrap Table CSS -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/bootstrap-table.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.18.3/dist/extensions/filter-control/bootstrap-table-filter-control.css" rel="stylesheet">

	<!-- Popper.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>

	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

	<!-- jQuery -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

	<!-- Bootstrap Table Scripts -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/bootstrap-table.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.18.3/dist/extensions/filter-control/bootstrap-table-filter-control.js"></script>

	<!-- Bootstrap Table Export and dependencies -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
	<script src="https://rawgit.com/hhurz/tableExport.jquery.plugin/master/tableExport.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.3/extensions/export/bootstrap-table-export.min.js"></script>

</head>

<body style="overflow-x: hidden">
	<h1 style="text-align: center; padding: 20px">ARPAV test site</h1>
	<div id="table-container" style="margin: auto 20px">
		<table id="table"
			data-toggle="table" 
			data-height="600" 
			data-filter-control="true"
			data-sortable="true">

			<thead>
                <tr>
                    <th data-field="Autorità" data-sortable="true" data-filter-control="input">Autorità</th>
                    <th data-field="Sottorete" data-sortable="true" data-filter-control="input">Sottorete</th>
                    <th data-field="Stazione-Sensore" data-sortable="true" data-filter-control="input">Stazione-Sensore</th>
                    <th data-field="Colore" data-sortable="true" data-filter-control="select">Colore</th>
                    <th data-field="Significato" data-sortable="true" data-filter-control="input">Significato</th>
                    <th data-field="Codice_sensore" data-sortable="true" data-filter-control="input">Codice_sensore</th>
                    <th data-field="Descr" data-sortable="true" data-filter-control="input">Descr</th>
                    <th data-field="Perc.Dati_in_file" data-sortable="true" data-filter-control="input">Perc.Dati_in_file</th>
                    <th data-field="Stima di frequenza[min]" data-sortable="true" data-filter-control="input">Stima di frequenza[min]</th>
                </tr>
            </thead>

			<!-- <tbody></tbody> -->

			<!-- <tbody>
				<tr>
					<td><svg height="20" width="20"><circle cx="10" cy="10" r="10" fill="#ff0000"/></svg></td>
					<td class="bs-checkbox "><input data-index="0" name="btSelectItem" type="checkbox"></td>
				</tr>
				<tr>
					<td><svg height="20" width="20"><circle cx="10" cy="10" r="10" fill="#f47801"/></svg></td>
					<td class="bs-checkbox "><input data-index="1" name="btSelectItem" type="checkbox"></td>
				</tr>
				<tr>
					<td><svg height="20" width="20"><circle cx="10" cy="10" r="10" fill="#01f460"/></svg></td>
					<td class="bs-checkbox "><input data-index="2" name="btSelectItem" type="checkbox"></td>
				</tr>
				<tr>
					<td><svg height="20" width="20"><circle cx="10" cy="10" r="10" fill="#f4db01"/></svg></td>
					<td class="bs-checkbox "><input data-index="3" name="btSelectItem" type="checkbox"></td>
				</tr>
			</tbody> -->


		</table>
	</div>

    <script type="module">
        // Select the HTML element where you want to place the table
        const table = $("#table");

        // Fetch the JSON file
        fetch("SensCheck_Meteo_idro_ARPAV_20231103_061855.json")
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json(); // Parse response as JSON
            })
            .then(data => {
                console.log("Data received:", data);

                // Create column definitions for each column with data-filter-control
                const tableObj = {
                    columns: [
                        {
                            title: 'Autorità',
                            field: 'Autorità',
                            sortable: true,
                            filterControl: 'select',
                        },
                        {
                            title: 'Sottorete',
                            field: 'Sottorete',
                            sortable: true,
                            filterControl: 'select',
                        },
                        {
                            title: 'Stazione-Sensore',
                            field: 'Stazione-Sensore',
                            sortable: true,
                            filterControl: 'input',
                        },
                        {
                            title: 'Colore',
                            field: 'Colore',
                            sortable: true,
                            filterControl: 'select',
                        },
                        {
                            title: 'Significato',
                            field: 'Significato',
                            sortable: true,
                            filterControl: 'select',
                        },
                        {
                            title: 'Codice_sensore',
                            field: 'Codice_sensore',
                            sortable: true,
                            filterControl: 'input',
                        },
                        {
                            title: 'Descr',
                            field: 'Descr',
                            sortable: true,
                            filterControl: 'input',
                        },
                        {
                            title: 'Perc.Dati_in_file',
                            field: 'Perc.Dati_in_file',
                            sortable: true,
                            filterControl: 'input',
                        },
                        {
                            title: 'Stima di frequenza[min]',
                            field: 'Stima di frequenza[min]',
                            sortable: true,
                            filterControl: 'input',
                        },
                    ],
                    data: data,
                };

                // Initialize the Bootstrap Table
                table.bootstrapTable('destroy').bootstrapTable(tableObj);
            })
            .catch(error => {
                console.error("Error fetching or parsing JSON:", error);
            });
    </script>
</body>

</html>